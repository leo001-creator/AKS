<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoulLight | Mi≈°ko ≈†e≈°ƒóliai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --accent: #6366f1;
            --bg-ultra-dark: #05070a;
        }
        body {
            background-color: var(--bg-ultra-dark);
            background-image: 
                linear-gradient(to bottom, rgba(5, 7, 10, 0.9), rgba(5, 7, 10, 0.9)),
                url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&q=80&w=2560'); /* Mi≈°ko fonas */
            background-attachment: fixed;
            background-size: cover;
            color: #e2e8f0;
            font-family: 'Plus Jakarta Sans', sans-serif;
        }
        .glass-panel {
            background: rgba(10, 15, 25, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.03);
        }
        .sticker-card {
            font-family: 'Gochi Hand', cursive;
            transition: all 0.4s ease;
        }
        .color-dot {
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        .color-dot.active {
            border-color: white;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255,255,255,0.4);
        }
        .nav-link { cursor: pointer; opacity: 0.6; transition: 0.3s; }
        .nav-link.active { opacity: 1; color: var(--accent); border-bottom: 2px solid var(--accent); }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.6s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Chat stilius */
        .chat-box { height: 400px; overflow-y: auto; scrollbar-width: none; }
    </style>
</head>
<body>

    <nav class="fixed top-0 w-full z-50 glass-panel px-6 py-4 flex justify-between items-center border-b border-white/5">
        <div class="flex items-center gap-2">
            <span class="text-2xl font-black tracking-tighter text-indigo-500">SOULLIGHT</span>
        </div>
        
        <div class="hidden lg:flex gap-8 font-bold text-[11px] uppercase tracking-[0.2em]">
            <span onclick="showPage('wall')" id="link-wall" class="nav-link active">Sienelƒó</span>
            <span onclick="showPage('chat')" id="link-chat" class="nav-link">Pokalbiai</span>
            <span onclick="showPage('rules')" id="link-rules" class="nav-link">Taisyklƒós</span>
            <span onclick="showPage('about')" id="link-about" class="nav-link">Apie</span>
        </div>

        <div class="flex items-center gap-4">
            <button onclick="checkAdmin()" class="text-[10px] opacity-40 hover:opacity-100 transition">VALDYMAS</button>
            <button id="logout-btn" onclick="logoutAdmin()" class="hidden bg-red-900/40 text-red-400 px-4 py-1 rounded-full text-[10px] font-bold border border-red-500/20">I≈†EITI</button>
        </div>
    </nav>

    <div class="pt-32 pb-20 px-4 max-w-6xl mx-auto">
        
        <section id="wall" class="page active">
            <div class="max-w-2xl mx-auto glass-panel p-8 rounded-[2rem] mb-12 shadow-2xl border border-white/5">
                <textarea id="note-text" placeholder="Tavo nuo≈°irdi ≈æinutƒó pasauliui..." 
                    class="w-full h-28 bg-transparent border-none outline-none text-xl resize-none placeholder:text-slate-700"></textarea>
                
                <div class="flex flex-wrap justify-between items-center gap-6 mt-6 pt-6 border-t border-white/5">
                    <div class="flex gap-3" id="color-selector">
                        <button onclick="selectColor('#a855f7', this)" class="color-dot active w-8 h-8 rounded-full bg-purple-500" data-color="#a855f7"></button>
                        <button onclick="selectColor('#2dd4bf', this)" class="color-dot w-8 h-8 rounded-full bg-teal-500" data-color="#2dd4bf"></button>
                        <button onclick="selectColor('#fb7185', this)" class="color-dot w-8 h-8 rounded-full bg-rose-500" data-color="#fb7185"></button>
                        <button onclick="selectColor('#60a5fa', this)" class="color-dot w-8 h-8 rounded-full bg-blue-500" data-color="#60a5fa"></button>
                    </div>
                    <button onclick="postSticker()" class="bg-indigo-600 hover:bg-indigo-500 px-10 py-3 rounded-full font-bold transition-all shadow-xl shadow-indigo-500/20">
                        SKELBTI ‚ú®
                    </button>
                </div>
            </div>

            <div id="sticker-wall" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <section id="chat" class="page">
            <div class="max-w-3xl mx-auto glass-panel rounded-3xl overflow-hidden border border-white/5">
                <div class="p-4 bg-white/5 border-b border-white/5 flex items-center justify-between">
                    <span class="font-bold">Bendruomenƒós Pokalbiai</span>
                    <span class="text-[10px] text-green-400 animate-pulse">‚óè TIESIOGIAI</span>
                </div>
                <div id="chat-messages" class="chat-box p-6 space-y-4">
                    </div>
                <div class="p-4 bg-white/5 border-t border-white/5 flex gap-2">
                    <input id="chat-input" type="text" placeholder="Ra≈°yti ≈æinutƒô..." class="flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-2 outline-none focus:border-indigo-500">
                    <button onclick="sendChatMessage()" class="bg-indigo-600 px-6 py-2 rounded-xl font-bold">Si≈≥sti</button>
                </div>
            </div>
        </section>

        <section id="rules" class="page max-w-2xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center text-indigo-400">Saugumo Taisyklƒós</h2>
            <div class="space-y-4">
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="font-bold text-white mb-2">1. B≈´kite mandag≈´s</h3>
                    <p class="text-sm text-slate-400">SoulLight yra skirta gerumui. Bet koks u≈ægauliojimas, patyƒçios ar neapykantos kalba bus nedelsiant pa≈°alinta.</p>
                </div>
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="font-bold text-white mb-2">2. Jokios reklamos</h3>
                    <p class="text-sm text-slate-400">Draud≈æiama platinti nuorodas ƒØ kitas svetaines ar reklamuoti paslaugas.</p>
                </div>
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="font-bold text-white mb-2">3. Anonimi≈°kumas</h3>
                    <p class="text-sm text-slate-400">Nera≈°ykite savo ar kit≈≥ ≈æmoni≈≥ asmeninƒós informacijos (telefon≈≥ numeri≈≥, adres≈≥).</p>
                </div>
            </div>
        </section>

        <section id="about" class="page text-center max-w-2xl mx-auto">
            <h2 class="text-4xl font-bold mb-6">Apie SoulLight</h2>
            <p class="text-slate-400 leading-relaxed">
                Tai virtuali mi≈°ko proskyna, kurioje kiekviena ≈æinutƒó yra lyg ma≈æa ≈°vieselƒó. Sukurta tam, kad primint≈≥ mums visiems, jog gerumas nieko nekainuoja, bet gali pakeisti viskƒÖ.
            </p>
        </section>

    </div>

    <script>
        let chosenColor = '#a855f7';
        let isAdminActive = sessionStorage.getItem('soulAdmin') === 'true';

        // Navigacija
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.getElementById('link-' + pageId).classList.add('active');
            if(pageId === 'chat') renderChat();
        }

        // Spalvos pasirinkimas su indikatoriumi
        function selectColor(color, btn) {
            chosenColor = color;
            document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
            btn.classList.add('active');
        }

        // Administratorius
        function checkAdmin() {
            const code = prompt("ƒÆveskite kodƒÖ:");
            if(code === "2011") {
                sessionStorage.setItem('soulAdmin', 'true');
                isAdminActive = true;
                location.reload();
            }
        }

        function logoutAdmin() {
            sessionStorage.removeItem('soulAdmin');
            isAdminActive = false;
            location.reload();
        }

        if(isAdminActive) {
            document.getElementById('logout-btn').classList.remove('hidden');
        }

        // Lipduk≈≥ logika
        function postSticker() {
            const text = document.getElementById('note-text').value.trim();
            if(!text) return;

            const stickers = JSON.parse(localStorage.getItem('soulV4_stickers')) || [];
            stickers.push({
                id: Date.now(),
                text: text,
                color: chosenColor,
                hearts: 0,
                reports: 0
            });
            localStorage.setItem('soulV4_stickers', JSON.stringify(stickers));
            document.getElementById('note-text').value = '';
            renderWall();
        }

        function handleAction(id, action) {
            let stickers = JSON.parse(localStorage.getItem('soulV4_stickers'));
            const idx = stickers.findIndex(s => s.id === id);

            if(action === 'heart') stickers[idx].hearts++;
            if(action === 'report') {
                stickers[idx].reports++;
                alert("Prane≈°imas u≈æregistruotas.");
            }
            if(action === 'delete') {
                if(confirm("I≈°trinti ≈°ƒØ ƒØra≈°ƒÖ?")) stickers.splice(idx, 1);
            }

            localStorage.setItem('soulV4_stickers', JSON.stringify(stickers));
            renderWall();
        }

        function renderWall() {
            const wall = document.getElementById('sticker-wall');
            const stickers = JSON.parse(localStorage.getItem('soulV4_stickers')) || [];
            wall.innerHTML = '';

            stickers.reverse().forEach(s => {
                const div = document.createElement('div');
                div.className = `sticker-card p-8 rounded-3xl shadow-2xl animate__animated animate__fadeInUp`;
                div.style.backgroundColor = s.color;
                div.style.color = '#05070a';
                div.style.transform = `rotate(${Math.random() * 4 - 2}deg)`;

                div.innerHTML = `
                    <p class="text-2xl font-bold mb-8 leading-tight">${s.text}</p>
                    <div class="flex justify-between items-center border-t border-black/10 pt-4">
                        <button onclick="handleAction(${s.id}, 'heart')" class="flex items-center gap-1 font-bold">
                            ‚ù§Ô∏è ${s.hearts}
                        </button>
                        <div class="flex gap-4">
                            <button onclick="handleAction(${s.id}, 'report')" title="Prane≈°ti">üö©</button>
                            ${isAdminActive ? `<button onclick="handleAction(${s.id}, 'delete')" class="text-xl">üóëÔ∏è</button>` : ''}
                        </div>
                    </div>
                    ${isAdminActive && s.reports > 0 ? `<div class="mt-2 text-[10px] bg-red-600 text-white px-2 py-0.5 rounded italic">Reports: ${s.reports}</div>` : ''}
                `;
                wall.appendChild(div);
            });
        }

        // Chat logika
        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if(!msg) return;

            const chat = JSON.parse(localStorage.getItem('soulV4_chat')) || [];
            chat.push({ id: Date.now(), text: msg, time: new Date().toLocaleTimeString('lt-LT', {hour: '2-digit', minute:'2-digit'}) });
            localStorage.setItem('soulV4_chat', JSON.stringify(chat));
            input.value = '';
            renderChat();
        }

        function renderChat() {
            const container = document.getElementById('chat-messages');
            const chat = JSON.parse(localStorage.getItem('soulV4_chat')) || [];
            container.innerHTML = chat.map(m => `
                <div class="animate__animated animate__fadeIn">
                    <span class="text-[10px] text-slate-500">${m.time}</span>
                    <p class="bg-white/5 p-3 rounded-2xl rounded-tl-none border border-white/5 inline-block max-w-[80%] text-sm">${m.text}</p>
                </div>
            `).join('');
            container.scrollTop = container.scrollHeight;
        }

        // Pradinis krovimas
        renderWall();
    </script>
</body>
</html>
